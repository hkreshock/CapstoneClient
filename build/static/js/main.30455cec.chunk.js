(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{190:function(e,t,n){},191:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(78),c=n.n(o),i=n(8);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=n(2),l=n(3),u=n(5),m=n(4),d=n(6),h=(n(87),n(12)),f=n(79);n(190);function p(e){var t=e.date,n=e.format,a=void 0===n?"Do MMMM YYYY":n;return Object(f.format)(t,a)}function g(){return r.a.createElement("span",{className:"Hyph"}," - ")}function E(e){var t=e.className,n=Object(h.a)(e,["className"]);return r.a.createElement("button",Object.assign({className:["Button",t].join(" ")},n))}function b(e){var t=e.className,n=Object(h.a)(e,["className"]);return r.a.createElement("input",Object.assign({className:["Input",t].join(" ")},n))}function v(e){var t=e.className,n=Object(h.a)(e,["className"]);return r.a.createElement("span",Object.assign({className:["Required",t].join(" ")},n),"*")}function y(e){var t=e.className,n=e.list,a=Object(h.a)(e,["className","list"]),o=["Section",n&&"Section--list",t].filter(Boolean).join(" ");return r.a.createElement("section",Object.assign({className:o},a))}var j="https://fast-meadow-83257.herokuapp.com",O="https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com",L="782f3744-105c-427b-b350-fdf24017ff9c",I="2162c8bd1amsh6643aaf16b0da06p1fa248jsnbc987518aef2",k={saveAuthToken:function(e){window.localStorage.setItem(L,e)},getAuthToken:function(){return window.localStorage.getItem(L)},clearAuthToken:function(){window.localStorage.removeItem(L)},hasAuthToken:function(){return!!k.getAuthToken()},makeBasicAuthToken:function(e,t){return window.btoa("".concat(e,":").concat(t))}},N=k,_=(n(191),r.a.createContext({loggedIn:!1,userLoggedIn:{},error:null,groceryList:[],List:null,setError:function(){},clearError:function(){},logIn:function(){},logOut:function(){},setGroceryLists:function(){},setList:function(){}})),w=_,A=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={loggedIn:!1,userLoggedIn:{},error:null,groceryList:[],List:null},n.setError=function(e){console.error(e),n.setState({error:e})},n.clearError=function(){n.setState({error:null})},n.logIn=function(e){n.setState({loggedIn:!0,userLoggedIn:e})},n.logOut=function(){n.setState({loggedIn:!1,userLoggedIn:null})},n.setGroceryLists=function(e){n.setState({groceryList:e})},n.setList=function(e){n.setState({List:e})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={loggedIn:this.state.loggedIn,userLoggedIn:this.state.userLoggedIn,error:this.state.error,groceryList:this.state.groceryList,List:this.state.List,setError:this.setError,clearError:this.clearError,logIn:this.logIn,logOut:this.logOut,setGroceryLists:this.setGroceryLists,setList:this.setList};return r.a.createElement(_.Provider,{value:e},this.props.children)}}]),t}(a.Component),S=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleLogoutClick=function(){N.clearAuthToken().then(n.context.logOut)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"renderLogoutLink",value:function(){return r.a.createElement("div",{className:"Header__logged-in"},r.a.createElement(i.b,{onClick:this.handleLogoutClick,to:"/"},"Logout"))}},{key:"renderLoginLink",value:function(){return r.a.createElement("div",{className:"Header__not-logged-in"},r.a.createElement(i.b,{to:"/register"},"Register"),r.a.createElement(g,null),r.a.createElement(i.b,{to:"/login"},"Log in"))}},{key:"render",value:function(){return r.a.createElement("nav",{className:"Header"},r.a.createElement("h1",null,r.a.createElement(i.b,{to:"/"},r.a.createElement("div",{className:"Title"},"Grocery Helper"))),!1===this.context.loggedIn?this.renderLogoutLink():this.renderLoginLink())}}]),t}(a.Component);S.contextType=w;var x=n(17);function T(e){var t=e.component,n=Object(h.a)(e,["component"]),a=t;return r.a.createElement(x.b,Object.assign({},n,{render:function(e){return N.hasAuthToken()?r.a.createElement(a,e):r.a.createElement(x.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}function P(e){var t=e.component,n=Object(h.a)(e,["component"]),a=t;return r.a.createElement(x.b,Object.assign({},n,{render:function(e){return N.hasAuthToken()?r.a.createElement(x.a,{to:"/"}):r.a.createElement(a,e)}}))}var C={postUser:function(e){return fetch("".concat(j,"/api/users"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})})},postLogin:function(e){return fetch("".concat(j,"/api/auth/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(function(e){return e})}},F={getUsers:function(){return fetch("".concat(j,"/api/users"),{method:"GET",headers:{authorization:"bearer ".concat(N.getAuthToken())}}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})})}},R=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={error:null},n.handleSubmitBasicAuth=function(e){e.preventDefault();var t=e.target,a=t.user_name,r=t.password;console.log("login form submitted");var o=window.btoa("".concat(a.value,":").concat(r.value));C.postLogin({user_name:a.value,password:r.value}).then(function(){return N.saveAuthToken(o),F.getUsers()}).then(function(e){return e.find(function(e){return e.user_name===a.value})}).then(function(e){return n.context.logIn(e)}).then(function(){a.value="",r.value="",n.props.onLoginSuccess()}).catch(function(e){n.setState({error:e.error})})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.error;return r.a.createElement("form",{className:"LoginForm",onSubmit:this.handleSubmitBasicAuth},r.a.createElement("div",{role:"alert"},e&&r.a.createElement("p",{className:"red"},e)),r.a.createElement("div",{className:"user_name"},r.a.createElement("label",{htmlFor:"LoginForm__user_name"},"User name"),r.a.createElement(b,{required:!0,name:"user_name",id:"LoginForm__user_name"})),r.a.createElement("div",{className:"password"},r.a.createElement("label",{htmlFor:"LoginForm__password"},"Password"),r.a.createElement(b,{required:!0,name:"password",type:"password",id:"LoginForm__password"})),r.a.createElement(E,{type:"submit"},"Log in"))}}]),t}(a.Component);R.defaultProps={onLoginSuccess:function(){}},R.contextType=w;var M=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleLoginSuccess=function(){n.props.history.push("/")},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(y,{className:"LoginPage"},r.a.createElement("h2",null,"Log in"),r.a.createElement(R,{onLoginSuccess:this.handleLoginSuccess}))}}]),t}(a.Component);M.defaultProps={location:{},history:{push:function(){}}};var D=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={error:null},n.handleSubmit=function(e){e.preventDefault();var t=e.target,a=t.full_name,r=t.email,o=t.user_name,c=t.password;console.log("registration form submitted"),n.setState({error:null}),C.postUser({user_name:o.value,password:c.value,email:r.value,full_name:a.value}).then(function(){a.value="",r.value="",o.value="",c.value="",n.props.onRegistrationSuccess()}).catch(function(e){n.setState({error:e.error})})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.error;return r.a.createElement("form",{className:"RegistrationForm",onSubmit:this.handleSubmit},r.a.createElement("div",{role:"alert"},e&&r.a.createElement("p",{className:"red"},e)),r.a.createElement("div",{className:"full_name"},r.a.createElement("label",{htmlFor:"RegistrationForm__full_name"},"Full name ",r.a.createElement(v,null)),r.a.createElement(b,{name:"full_name",type:"text",required:!0,id:"RegistrationForm__full_name"})),r.a.createElement("div",{className:"email"},r.a.createElement("label",{htmlFor:"RegistrationForm__email"},"Email",r.a.createElement(v,null)),r.a.createElement(b,{name:"email",type:"mail",required:!0,id:"RegistrationForm__email"})),r.a.createElement("div",{className:"user_name"},r.a.createElement("label",{htmlFor:"RegistrationForm__user_name"},"User name ",r.a.createElement(v,null)),r.a.createElement(b,{name:"user_name",type:"text",required:!0,id:"RegistrationForm__user_name"})),r.a.createElement("div",{className:"password"},r.a.createElement("label",{htmlFor:"RegistrationForm__password"},"Password ",r.a.createElement(v,null)),r.a.createElement(b,{name:"password",type:"password",required:!0,id:"RegistrationForm__password"})),r.a.createElement(E,{type:"submit"},"Register"))}}]),t}(a.Component);D.defaultProps={onRegistrationSuccess:function(){}};var q=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleRegistrationSuccess=function(e){n.props.history.push("/login")},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(y,{className:"RegistrationPage"},r.a.createElement("h2",null,"Register"),r.a.createElement(D,{onRegistrationSuccess:this.handleRegistrationSuccess}))}}]),t}(a.Component);q.defaultProps={history:{push:function(){}}};var B=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(y,{className:"NotFoundPage"},r.a.createElement("h2",null,"404 - Page not found"),r.a.createElement("p",null,"Try going back to your previous page."))}}]),t}(a.Component),G={getItems:function(){return fetch("".concat(j,"/items"),{headers:{authorization:"bearer ".concat(N.getAuthToken())}}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})})},getItem:function(e){return fetch("".concat(j,"/items/").concat(e),{headers:{}}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})})},addItem:function(e){return fetch("".concat(j,"/items"),{method:"POST",headers:{"content-type":"application/json",authorization:"bearer ".concat(N.getAuthToken())},body:JSON.stringify({id:e.id,title:e.title,quantity:e.quantity,date_created:e.date_created,listid:e.listid})}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})})},deleteItem:function(e){return fetch("".concat(j,"/items/").concat(e.id),{method:"DELETE",headers:{"content-type":"application/json",authorization:"bearer ".concat(N.getAuthToken())}})}},U=(n(200),n(18)),z=r.a.createContext({item:{},error:null,setError:function(){},clearError:function(){},setItem:function(){},clearItem:function(){},setItems:function(){},addItem:function(){}}),H=z,W=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={item:{},error:null},n.setError=function(e){console.error(e),n.setState({error:e})},n.clearError=function(){n.setState({error:null})},n.setItem=function(e){n.setState({item:e})},n.clearItem=function(){n.setItems([])},n.setItems=function(e){n.setState({items:e})},n.addItem=function(e){n.setItems([].concat(Object(U.a)(n.state.items),[e]))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={item:this.state.item,error:this.state.error,setError:this.setError,clearError:this.clearError,setItem:this.setItem,clearItem:this.clearItem,setItems:this.setItems,addItem:this.addItem};return r.a.createElement(z.Provider,{value:e},this.props.children)}}]),t}(a.Component),J=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.itemId;this.context.clearError(),G.getItem(e).then(this.context.setItem).catch(this.context.setError)}},{key:"componentWillUnmount",value:function(){this.context.clearItem()}},{key:"renderItem",value:function(){var e=this.context,t=e.item,n=e.quantity;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,t.title),r.a.createElement("p",null,r.a.createElement(g,null),r.a.createElement(p,{date:t.date_created})),r.a.createElement(Y,{quantity:n}))}},{key:"render",value:function(){var e,t=this.context,n=t.error,a=t.item;return e=n?"Item doesn't exist"===n.error?r.a.createElement("p",{className:"red"},"Item not found"):r.a.createElement("p",{className:"red"},"There was an error"):a.id?this.renderItem():r.a.createElement("div",{className:"loading"}),r.a.createElement(y,{className:"ItemPage"},e)}}]),t}(a.Component);function Y(e){var t=e.items,n=void 0===t?[]:t;return r.a.createElement("ul",{className:"ItemPage__item-list"},n.map(function(e){return r.a.createElement("li",{key:e.id,className:"ItemPage__item"},r.a.createElement("p",{className:"ItemPage__item-text"},e.text),r.a.createElement("p",{className:"ItemPage__item-user"},e.user.full_name))}))}J.contextType=H;var X={getLists:function(){return fetch("".concat(j,"/api/lists"),{method:"GET",headers:{authorization:"bearer ".concat(N.getAuthToken())}}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})})},getList:function(e){return fetch("".concat(j,"/api/lists/").concat(e),{headers:{authorization:"bearer ".concat(N.getAuthToken())}}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})})},addList:function(e){return fetch("".concat(j,"/api/lists"),{method:"POST",headers:{"content-type":"application/json",authorization:"bearer ".concat(N.getAuthToken())},body:JSON.stringify({title:e.title,userid:e.userid})}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})})},deleteList:function(e){return fetch("".concat(j,"/api/lists/").concat(e.id),{method:"DELETE",headers:{"content-type":"application/json",authorization:"bearer ".concat(N.getAuthToken())}})}},K=(n(201),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleDeleteItem=function(e){var t=n.context.groceryList.filter(function(t){return t!==e});n.context.setGroceryLists(t),X.deleteList(e)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.item;return r.a.createElement("div",{className:"AllLists"},r.a.createElement(i.b,{to:"/list/".concat(t.id),className:"ListById"},r.a.createElement("header",{className:"ListById__header"},r.a.createElement("h2",{className:"ListById__heading"},t.title),r.a.createElement($,{item:t}))),r.a.createElement("main",null,r.a.createElement("button",{className:"deleteButton",onClick:function(n){n.stopPropagation(),e.handleDeleteItem(t)},type:"button"},"delete")))}}]),t}(a.Component));function $(e){var t=e.item;return r.a.createElement("span",{className:"List__date"},r.a.createElement(p,{date:t.date_created}))}K.contextType=w;var Q=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;return this.context.clearError(),X.getLists().then(function(t){return t.filter(function(t){return t.userid===e.context.userLoggedIn.id})}).then(function(t){return e.context.setGroceryLists(t)}),X.getLists().catch(function(t){e.context.setError(t)})}},{key:"renderFullList",value:function(){return this.context.groceryList.map(function(e){return r.a.createElement(K,{key:e.id,item:e})})}},{key:"render",value:function(){var e=this.context.error;return r.a.createElement(y,{className:"ListPage"},e?r.a.createElement("p",{className:"red"},"There was an error, try again"):this.renderFullList())}}]),t}(a.Component);Q.contextType=w;n(202),n(203);var V=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("span",{className:"Tooltip"},r.a.createElement("span",{className:"Tooltip-content",style:{color:this.props.color}},this.props.children),r.a.createElement("div",{className:"Tooltip-message"},this.props.message))}}]),t}(r.a.Component);V.defaultProps={color:"#01A800"};var Z=V,ee=r.a.createElement(Z,{color:"blue",message:"Register and Login are in the top right corner of your screen"},"above"),te=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"renderUserLists",value:function(){return r.a.createElement("div",{className:"UserGroceryLists"},r.a.createElement(Q,{className:"AllGroceryLists"}))}},{key:"renderStartNewList",value:function(){return r.a.createElement("div",{className:"CreateNewList"},r.a.createElement(i.b,{to:"/addList",className:"LinkToNewList"},"Start New List"))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Nav"},r.a.createElement("div",{id:"root"},r.a.createElement(y,{className:"MainPage"},r.a.createElement("h2",null,"Welcome to the Grocery Helper!"),r.a.createElement("section",{className:"MainParagraph"},r.a.createElement("p",null,"This is your new tool to give your shopping list some depth!")," ",r.a.createElement("section",null,"If you haven't yet, register or login ",ee," to begin creating your new and advanced lists!"),r.a.createElement("p",null,'If you\'re already logged in, click on "Start New List" to begin using the Grocery Helper,'," ")," ",r.a.createElement("p",null,"or select one of the lists you've already made to continue adding to it!"))),N.hasAuthToken()?this.renderStartNewList():null,r.a.createElement("br",null),N.hasAuthToken()?this.renderUserLists():null))}}]),t}(a.Component),ne=(n(204),function(e){return new Array(e).fill(null,0,e)});function ae(e){var t=6.5*Math.random()+e.num%4+.6,n=900*Math.random(),a=300*Math.random(),o=960*Math.random(),c=750*Math.random(),i=90*Math.random();return r.a.createElement("g",{style:{animation:"up ".concat(t,"s ").concat(n,"ms infinite")}},r.a.createElement("g",{transform:"translate(".concat(a," ").concat(o,")"),style:{transform:"translateX(".concat(c,"px)")}},r.a.createElement("circle",{cx:"35",cy:"35",r:"".concat(i)})))}function re(e){return r.a.createElement("div",{className:"bubbles-container"},r.a.createElement("svg",{className:"bubbles",viewBox:"0 0 701 1024",style:{overflow:"visible"}},r.a.createElement("g",{className:"bubbles-small",strokeWidth:"7"},e.children)))}function oe(e){var t=ne(e.numberOfBubbles).map(function(e,t){return r.a.createElement(ae,{key:t,num:t})});return r.a.createElement(re,null,t)}var ce=r.a.createContext({itemList:[],listId:null,error:null,setError:function(){},clearError:function(){},setListId:function(){},setItemList:function(){}}),ie=ce,se=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={itemList:[],listId:null,error:null},n.setError=function(e){console.error(e),n.setState({error:e})},n.clearError=function(){n.setState({error:null})},n.setListId=function(e){n.setState({listId:e})},n.setItemList=function(e){n.setState({itemList:e})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={itemList:this.state.itemList,listId:this.state.listId,error:this.state.error,setError:this.setError,clearError:this.clearError,setListId:this.setListId,setItemList:this.setItemList};return r.a.createElement(ce.Provider,{value:e},this.props.children)}}]),t}(a.Component),le=(n(205),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleDeleteItem=function(e){var t=n.context.itemList.filter(function(t){return t!==e});n.context.setItemList(t),G.deleteItem(e)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.item;return r.a.createElement("div",{className:"ItemListWholeItem"},r.a.createElement(i.b,{to:"/item/".concat(t.id),className:"ItemListItem"},r.a.createElement("header",{className:"ItemListItem__header"},r.a.createElement("h2",{className:"ItemListItem__heading"},t.title),r.a.createElement("h2",{className:"ItemListItem__quantity"},t.quantity),r.a.createElement(ue,{item:t}))),r.a.createElement("main",null,r.a.createElement("button",{className:"deleteButton",onClick:function(n){n.stopPropagation(),e.handleDeleteItem(t)},type:"button"},"delete")))}}]),t}(a.Component));function ue(e){var t=e.item;return r.a.createElement("span",{className:"ItemListItem__date"},r.a.createElement(p,{date:t.date_created}))}le.contextType=ie;var me={getItems:function(e){return fetch("".concat(O,"/food/products/search?offset=0&query=").concat(e,"&number=1"),{headers:{"X-RapidAPI-Key":"".concat(I)}}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})})},getItem:function(e){return fetch("".concat(O,"/food/products/").concat(e),{headers:{"content-type":"application/json","X-RapidAPI-Key":"".concat(I)}}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})})}},de=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.item;return console.log(this.props),r.a.createElement("div",{className:"AllProducts"},r.a.createElement("header",{className:"AllProducts__header"},r.a.createElement("h2",{className:"AllProducts__heading"},e.title),r.a.createElement("h2",{className:"AllProducts__price"},e.price),r.a.createElement("h3",{className:"AllProducts__content"},e.nutrition)))}}]),t}(a.Component),he=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={readyToSubmit:!1,products:null},n.onSubmitForm=function(e){e.preventDefault(),!1===n.state.readyToSubmit?n.handleCheckForm(e):n.handleAddItem(e)},n.handleAddItem=function(e){n.props.onAddItem(e.target.itemToAdd.value,e.target.quantityToAdd.value)},n.handleCheckForm=function(e){return e.preventDefault(),console.log(me.getItems(e.target.itemToAdd.value)),me.getItems(e.target.itemToAdd.value).then(function(e){return n.setState({products:e})})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"renderProducts",value:function(){console.log(this.state.products);var e=[],t=this.state.products.products.map(function(e){return e.id});console.log(t);for(var n=0;n<t.length;n++)me.getItem(t[n]).then(function(t){console.log(t),e.push(t)});return console.log(e),e.map(function(e){return r.a.createElement(de,{key:e.id,item:e})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmitForm},r.a.createElement("input",{name:"itemToAdd",type:"text",placeholder:"apples","aria-label":"Shopping list item"}),r.a.createElement("input",{name:"quantityToAdd",type:"number",placeholder:"0",min:"0"}),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.setState({readyToSubmit:!1})},name:"submitButton"},"Check For Item"),r.a.createElement(y,{className:"ProductList"},null===this.state.products?null:this.renderProducts()),r.a.createElement("button",{onClick:function(){return e.setState({readyToSubmit:!0})},name:"submitButton"},"Add Item")))}}]),t}(r.a.Component),fe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleAddItem=function(e,t){var a={id:1e3*Math.random(),title:e,quantity:t,date_created:new Date,listid:n.props.listId},r=[].concat(Object(U.a)(n.context.itemList),[a]);n.context.setItemList(r),G.addItem(a)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.context.clearError(),G.getItems().then(function(t){return t.filter(function(t){return t.listid==e.props.listId})}).then(function(t){return e.context.setItemList(t)}).catch(function(t){return e.context.setError(t)})}},{key:"renderItems",value:function(){var e=this.context.itemList;return(void 0===e?[]:e).map(function(e){return r.a.createElement(le,{key:e.id,item:e})})}},{key:"render",value:function(){var e=this.context.error;return r.a.createElement(y,{className:"ItemListPage"},r.a.createElement("section",null,r.a.createElement(he,{onAddItem:this.handleAddItem})),e?r.a.createElement("p",{className:"red"},"There was an error, try again"):this.renderItems())}}]),t}(a.Component);fe.contextType=ie;var pe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={loaded:!1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.listId;this.context.clearError(),X.getList(t).then(function(t){return e.context.setList(t)}).catch(this.context.setError),this.setState({loaded:!0})}},{key:"componentWillUnmount",value:function(){this.context.clearError()}},{key:"renderList",value:function(){var e=this.context.List,t=this.props.match.params.listId;return e?r.a.createElement("div",{className:"List_Content"},r.a.createElement("h2",null,e.title),r.a.createElement("p",null,r.a.createElement(g,null),r.a.createElement(p,{date:e.date_created})),r.a.createElement(fe,{listId:t})):r.a.createElement("div",{className:"loading"})}},{key:"render",value:function(){var e,t=this.context,n=t.error,a=t.List;return e=n?"List doesn't exist"===n.error?r.a.createElement("p",{className:"red"},"Item not found"):r.a.createElement("p",{className:"red"},"There was an error"):a?this.renderList():r.a.createElement("div",{className:"loading"}),r.a.createElement(y,{className:"ListPage"},e)}}]),t}(a.Component);pe.contextType=w;var ge=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onSubmitForm=function(e){e.preventDefault();var t={title:e.target.newListTitle.value,userid:n.context.userLoggedIn.id};X.getLists().then(function(e){n.context.setGroceryLists([].concat(Object(U.a)(e),[t]))}),X.addList(t),X.getLists().then(function(e){return e.filter(function(e){return e.userid===t.userid})}).then(function(e){return e.find(function(e){return e.title===t.title})}).then(function(e){return e.id}).then(function(e){return n.props.history.push("/list/".concat(e))})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.context.clearError(),X.getLists().then(function(t){e.context.setGroceryLists(t)}).catch(function(t){e.context.setError(t)})}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.onSubmitForm},r.a.createElement("h2",null,"Give your new list a name!"),r.a.createElement("input",{name:"newListTitle",type:"text",placeholder:"Dinners for the week",required:!0}),r.a.createElement("button",{type:"submit"},"Add Title"))}}]),t}(a.Component);ge.defaultProps={location:{},history:{push:function(){}}},ge.contextType=w;var Ee=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"AppHeader"},r.a.createElement(S,{hasLoggedIn:N.hasAuthToken()})),r.a.createElement("main",{className:"AppMain"},r.a.createElement(oe,{numberOfBubbles:60}),r.a.createElement(x.d,null,r.a.createElement(x.b,{exact:!0,path:"/",component:te,className:"MainPage"}),r.a.createElement(P,{path:"/login",component:M}),r.a.createElement(P,{path:"/register",component:q}),r.a.createElement(T,{path:"/item/:itemId",component:J}),r.a.createElement(T,{path:"/list/:listId",component:pe}),r.a.createElement(T,{path:"/addList",component:ge}),r.a.createElement(x.b,{component:B}))))}}]),t}(a.Component);n(206);c.a.render(r.a.createElement(i.a,null,r.a.createElement(A,null,r.a.createElement(se,null,r.a.createElement(W,null,r.a.createElement(Ee,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},82:function(e,t,n){e.exports=n(207)},87:function(e,t,n){}},[[82,1,2]]]);
//# sourceMappingURL=main.30455cec.chunk.js.map