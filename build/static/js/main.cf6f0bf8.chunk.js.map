{"version":3,"sources":["serviceWorker.js","components/Utils/Utils.js","config.js","services/token-service.js","context/UserContext.js","components/Header/Header.js","components/Utils/PrivateRoute.js","components/Utils/PublicOnlyRoute.js","services/auth-api-service.js","services/user-api-service.js","components/LoginForm/LoginForm.js","routes/LoginPage/LoginPage.js","components/RegistrationForm/RegistrationForm.js","routes/RegistrationPage/RegistrationPage.js","routes/PageNotFound/PageNotFound.js","services/item-api-service.js","context/ItemContext.js","routes/ItemPage/ItemPage.js","services/list-api-service.js","components/ListItem/ListItem.js","routes/GroceryLists/GroceryLists.js","MISC/composition/Tooltip.js","routes/MainPage/MainPage.js","components/BubblesForMain/makeNullsArray.js","components/BubblesForMain/Bubble.js","components/BubblesForMain/BubblesContainer.js","components/BubblesForMain/Bubbles.js","context/ItemListContext.js","components/ItemsListItem/ItemsListItem.js","services/produce-api-service.js","components/ProductItem/ProductItem.js","components/AddItemForm/AddItemForm.js","components/ItemListPage/ItemListPage.js","routes/ListPage/ListPage.js","routes/AddNewList/AddNewList.js","components/App/App.js","index.js"],"names":["Boolean","window","location","hostname","match","NiceDate","_ref","date","_ref$format","format","formatDate","Hyph","react_default","a","createElement","className","Button","_ref2","props","Object","objectWithoutProperties","assign","join","Input","_ref4","Required","_ref5","Section","_ref6","list","classes","filter","config","process","TokenService","saveAuthToken","token","localStorage","setItem","getAuthToken","getItem","clearAuthToken","removeItem","hasAuthToken","makeBasicAuthToken","userName","password","btoa","concat","UserContext","React","createContext","loggedIn","userLoggedIn","error","groceryList","List","setError","clearError","logIn","logOut","setGroceryLists","setList","UserProvider","_Component","_getPrototypeOf2","_this","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","state","console","setState","user","inherits","createClass","key","value","Provider","children","Component","Header","handleLogoutClick","then","context","react_router_dom","onClick","to","renderLogoutLink","renderLoginLink","contextType","PrivateRoute","component","react_router","render","componentProps","pathname","from","PublicOnlyRoute","AuthApiService","postUser","fetch","method","headers","content-type","body","JSON","stringify","res","ok","json","e","Promise","reject","postLogin","credentials","UserApiService","getUsers","authorization","LoginForm","handleSubmitBasicAuth","ev","preventDefault","_ev$target","target","user_name","log","authToken","users","find","onLoginSuccess","catch","onSubmit","role","htmlFor","required","name","id","type","defaultProps","LoginPage","handleLoginSuccess","history","push","LoginForm_LoginForm","RegistrationForm","handleSubmit","full_name","email","onRegistrationSuccess","RegistrationPage","handleRegistrationSuccess","RegistrationForm_RegistrationForm","NotFoundPage","ItemApiService","getItems","itemId","addItem","item","title","quantity","date_created","listid","deleteItem","ItemContext","clearItem","setItems","ItemProvider","items","toConsumableArray","ItemPage","params","_this$context","Fragment","ItemItems","content","_this$context2","renderItem","_ref$items","map","text","ListApiService","getLists","getList","listId","addList","userid","deleteList","ListItem","handleDeleteItem","newLists","itm","_this2","ListDate","stopPropagation","GroceryLists","data","ListItem_ListItem_ListItem","renderFullList","TooltipClass","style","color","message","Register_Login","composition_Tooltip","MainPage","GroceryLists_GroceryLists","renderStartNewList","renderUserLists","makeNullsArray","len","fill","Bubble","animS","Math","random","num","animMs","tranfX","tranfY","transX","rad","animation","transform","cx","cy","r","BubblesContainer","viewBox","overflow","strokeWidth","Bubbles","bubbles","numberOfBubbles","_","i","ItemListContext","itemList","setListId","setItemList","ItemListProvider","ItemListItem","newItems","ItemDate","ProduceApiService","search","X-RapidAPI-Key","ProductItem","price","nutrition","AddItemForm","readyToSubmit","products","onSubmitForm","handleCheckForm","handleAddItem","onAddItem","itemToAdd","quantityToAdd","itemListById","idList","product","ProductItem_ProductItem","placeholder","aria-label","min","renderProducts","ItemListPage","itemName","itemQuantity","newItem","Date","_this$context$itemLis","ItemsListItem_ItemListItem","AddItemForm_AddItemForm","renderItems","ListPage","loaded","ItemListPage_ItemListPage","renderList","AddNewList","newList","newListTitle","App","Header_Header_Header","hasLoggedIn","Bubbles_Bubbles","exact","path","PageNotFound","ReactDOM","UserContext_UserProvider","ItemListContext_ItemListProvider","ItemContext_ItemProvider","components_App_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.cf6f0bf8.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit http://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See http://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport { format as formatDate } from \"date-fns\";\nimport \"./Utils.css\";\n\nexport function NiceDate({ date, format = \"Do MMMM YYYY\" }) {\n  return formatDate(date, format);\n}\n\nexport function Hyph() {\n  return <span className=\"Hyph\">{\" - \"}</span>;\n}\n\nexport function Button({ className, ...props }) {\n  return <button className={[\"Button\", className].join(\" \")} {...props} />;\n}\n\nexport function Textarea({ className, ...props }) {\n  return <textarea className={[\"Textarea\", className].join(\" \")} {...props} />;\n}\n\nexport function Input({ className, ...props }) {\n  return <input className={[\"Input\", className].join(\" \")} {...props} />;\n}\n\nexport function Required({ className, ...props }) {\n  return (\n    <span className={[\"Required\", className].join(\" \")} {...props}>\n      &#42;\n    </span>\n  );\n}\n\nexport function Section({ className, list, ...props }) {\n  const classes = [\"Section\", list && \"Section--list\", className]\n    .filter(Boolean)\n    .join(\" \");\n  return <section className={classes} {...props} />;\n}\n","export default {\n  API_ENDPOINT: \"https://fast-meadow-83257.herokuapp.com\",\n  PRODUCE_API_ENDPOINT:\n    \"https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com\",\n  TOKEN_KEY: process.env.REACT_APP_TOKEN_KEY,\n  X_RAPIDAPI_KEY: process.env.REACT_APP_X_RAPIDAPI_KEY\n};\n","import config from \"../config\";\n\nconst TokenService = {\n  saveAuthToken(token) {\n    window.localStorage.setItem(config.TOKEN_KEY, token);\n  },\n  getAuthToken() {\n    return window.localStorage.getItem(config.TOKEN_KEY);\n  },\n  clearAuthToken() {\n    window.localStorage.removeItem(config.TOKEN_KEY);\n  },\n  hasAuthToken() {\n    return !!TokenService.getAuthToken();\n  },\n  makeBasicAuthToken(userName, password) {\n    return window.btoa(`${userName}:${password}`);\n  }\n};\n\nexport default TokenService;\n","import React, { Component } from \"react\";\n\nconst UserContext = React.createContext({\n  loggedIn: false,\n  userLoggedIn: {},\n  error: null,\n  groceryList: [],\n  List: null,\n  setError: () => {},\n  clearError: () => {},\n  logIn: () => {},\n  logOut: () => {},\n  setGroceryLists: () => {},\n  setList: () => {}\n});\nexport default UserContext;\n\nexport class UserProvider extends Component {\n  state = {\n    loggedIn: false,\n    userLoggedIn: {},\n    error: null,\n    groceryList: [],\n    List: null\n  };\n\n  setError = error => {\n    console.error(error);\n    this.setState({ error });\n  };\n\n  clearError = () => {\n    this.setState({ error: null });\n  };\n\n  logIn = user => {\n    this.setState({ loggedIn: true, userLoggedIn: user });\n  };\n\n  logOut = () => {\n    this.setState({ loggedIn: false, userLoggedIn: null });\n  };\n\n  setGroceryLists = groceryList => {\n    this.setState({ groceryList });\n  };\n\n  setList = List => {\n    this.setState({ List });\n  };\n\n  render() {\n    const value = {\n      loggedIn: this.state.loggedIn,\n      userLoggedIn: this.state.userLoggedIn,\n      error: this.state.error,\n      groceryList: this.state.groceryList,\n      List: this.state.List,\n      setError: this.setError,\n      clearError: this.clearError,\n      logIn: this.logIn,\n      logOut: this.logOut,\n      setGroceryLists: this.setGroceryLists,\n      setList: this.setList\n    };\n    return (\n      <UserContext.Provider value={value}>\n        {this.props.children}\n      </UserContext.Provider>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Hyph } from \"../Utils/Utils\";\nimport TokenService from \"../../services/token-service\";\nimport \"./Header.css\";\nimport UserContext from \"../../context/UserContext\";\n\nexport default class Header extends Component {\n  static contextType = UserContext;\n\n  handleLogoutClick = () => {\n    TokenService.clearAuthToken().then(this.context.logOut);\n  };\n\n  renderLogoutLink() {\n    return (\n      <div className=\"Header__logged-in\">\n        <Link onClick={this.handleLogoutClick} to=\"/\">\n          Logout\n        </Link>\n      </div>\n    );\n  }\n\n  renderLoginLink() {\n    return (\n      <div className=\"Header__not-logged-in\">\n        <Link to=\"/register\">Register</Link>\n        <Hyph />\n        <Link to=\"/login\">Log in</Link>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <nav className=\"Header\">\n        <h1>\n          <Link to=\"/\">\n            <div className=\"Title\">Grocery Helper</div>\n          </Link>\n        </h1>\n        {this.context.loggedIn === true\n          ? this.renderLogoutLink()\n          : this.renderLoginLink()}\n      </nav>\n    );\n  }\n}\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport TokenService from \"../../services/token-service\";\n\nexport default function PrivateRoute({ component, ...props }) {\n  const Component = component;\n  return (\n    <Route\n      {...props}\n      render={componentProps =>\n        TokenService.hasAuthToken() ? (\n          <Component {...componentProps} />\n        ) : (\n          <Redirect\n            to={{\n              pathname: \"/login\",\n              state: { from: componentProps.location }\n            }}\n          />\n        )\n      }\n    />\n  );\n}\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport TokenService from \"../../services/token-service\";\n\nexport default function PublicOnlyRoute({ component, ...props }) {\n  const Component = component;\n  return (\n    <Route\n      {...props}\n      render={componentProps =>\n        TokenService.hasAuthToken() ? (\n          <Redirect to={\"/\"} />\n        ) : (\n          <Component {...componentProps} />\n        )\n      }\n    />\n  );\n}\n","import config from \"../config\";\n\nconst AuthApiService = {\n  postUser(user) {\n    return fetch(`${config.API_ENDPOINT}/api/users`, {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify(user)\n    }).then(res =>\n      !res.ok ? res.json().then(e => Promise.reject(e)) : res.json()\n    );\n  },\n  postLogin(credentials) {\n    return fetch(`${config.API_ENDPOINT}/api/auth/login`, {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify(credentials)\n    })\n      .then(res =>\n        !res.ok ? res.json().then(e => Promise.reject(e)) : res.json()\n      )\n      .then(res => {\n        return res;\n      });\n  }\n};\n\nexport default AuthApiService;\n","import config from \"../config\";\nimport TokenService from \"./token-service\";\n\nconst UserApiService = {\n  getUsers() {\n    return fetch(`${config.API_ENDPOINT}/api/users`, {\n      method: \"GET\",\n      headers: {\n        authorization: `bearer ${TokenService.getAuthToken()}`\n      }\n    }).then(res =>\n      !res.ok ? res.json().then(e => Promise.reject(e)) : res.json()\n    );\n  }\n};\n\nexport default UserApiService;\n","import React, { Component } from \"react\";\nimport { Button, Input } from \"../Utils/Utils\";\nimport TokenService from \"../../services/token-service\";\nimport AuthApiService from \"../../services/auth-api-service\";\nimport UserContext from \"../../context/UserContext\";\nimport UserApiService from \"../../services/user-api-service\";\n\nexport default class LoginForm extends Component {\n  static defaultProps = {\n    onLoginSuccess: () => {}\n  };\n  state = { error: null };\n  static contextType = UserContext;\n\n  handleSubmitBasicAuth = ev => {\n    ev.preventDefault();\n    const { user_name, password } = ev.target;\n\n    console.log(\"login form submitted\");\n\n    const authToken = window.btoa(`${user_name.value}:${password.value}`);\n\n    AuthApiService.postLogin({\n      user_name: user_name.value,\n      password: password.value\n    })\n      .then(() => {\n        TokenService.saveAuthToken(authToken);\n        return UserApiService.getUsers();\n      })\n      .then(users => {\n        return users.find(user => user.user_name === user_name.value);\n      })\n      .then(user => this.context.logIn(user))\n      .then(() => {\n        user_name.value = \"\";\n        password.value = \"\";\n        this.props.onLoginSuccess();\n      })\n      .catch(res => {\n        this.setState({ error: res.error });\n      });\n  };\n\n  render() {\n    const { error } = this.state;\n    return (\n      <form className=\"LoginForm\" onSubmit={this.handleSubmitBasicAuth}>\n        <div role=\"alert\">{error && <p className=\"red\">{error}</p>}</div>\n        <div className=\"user_name\">\n          <label htmlFor=\"LoginForm__user_name\">User name</label>\n          <Input required name=\"user_name\" id=\"LoginForm__user_name\" />\n        </div>\n        <div className=\"password\">\n          <label htmlFor=\"LoginForm__password\">Password</label>\n          <Input\n            required\n            name=\"password\"\n            type=\"password\"\n            id=\"LoginForm__password\"\n          />\n        </div>\n        <Button type=\"submit\">Log in</Button>\n      </form>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport LoginForm from \"../../components/LoginForm/LoginForm\";\nimport { Section } from \"../../components/Utils/Utils\";\n\nexport default class LoginPage extends Component {\n  static defaultProps = {\n    location: {},\n    history: {\n      push: () => {}\n    }\n  };\n\n  handleLoginSuccess = () => {\n    this.props.history.push(\"/\");\n  };\n\n  render() {\n    return (\n      <Section className=\"LoginPage\">\n        <h2>Log in</h2>\n        <LoginForm onLoginSuccess={this.handleLoginSuccess} />\n      </Section>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Button, Input, Required } from \"../Utils/Utils\";\nimport AuthApiService from \"../../services/auth-api-service\";\n\nexport default class RegistrationForm extends Component {\n  static defaultProps = {\n    onRegistrationSuccess: () => {}\n  };\n\n  state = { error: null };\n\n  handleSubmit = ev => {\n    ev.preventDefault();\n    const { full_name, email, user_name, password } = ev.target;\n\n    console.log(\"registration form submitted\");\n\n    this.setState({ error: null });\n    AuthApiService.postUser({\n      user_name: user_name.value,\n      password: password.value,\n      email: email.value,\n      full_name: full_name.value\n    })\n      .then(() => {\n        full_name.value = \"\";\n        email.value = \"\";\n        user_name.value = \"\";\n        password.value = \"\";\n        this.props.onRegistrationSuccess();\n      })\n      .catch(res => {\n        this.setState({ error: res.error });\n      });\n  };\n\n  render() {\n    const { error } = this.state;\n    return (\n      <form className=\"RegistrationForm\" onSubmit={this.handleSubmit}>\n        <div role=\"alert\">{error && <p className=\"red\">{error}</p>}</div>\n        <div className=\"full_name\">\n          <label htmlFor=\"RegistrationForm__full_name\">\n            Full name <Required />\n          </label>\n          <Input\n            name=\"full_name\"\n            type=\"text\"\n            required\n            id=\"RegistrationForm__full_name\"\n          />\n        </div>\n        <div className=\"email\">\n          <label htmlFor=\"RegistrationForm__email\">\n            Email\n            <Required />\n          </label>\n          <Input\n            name=\"email\"\n            type=\"mail\"\n            required\n            id=\"RegistrationForm__email\"\n          />\n        </div>\n        <div className=\"user_name\">\n          <label htmlFor=\"RegistrationForm__user_name\">\n            User name <Required />\n          </label>\n          <Input\n            name=\"user_name\"\n            type=\"text\"\n            required\n            id=\"RegistrationForm__user_name\"\n          />\n        </div>\n        <div className=\"password\">\n          <label htmlFor=\"RegistrationForm__password\">\n            Password <Required />\n          </label>\n          <Input\n            name=\"password\"\n            type=\"password\"\n            required\n            id=\"RegistrationForm__password\"\n          />\n        </div>\n        <Button type=\"submit\">Register</Button>\n      </form>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Section } from \"../../components/Utils/Utils\";\nimport RegistrationForm from \"../../components/RegistrationForm/RegistrationForm\";\n\nexport default class RegistrationPage extends Component {\n  static defaultProps = {\n    history: {\n      push: () => {}\n    }\n  };\n\n  handleRegistrationSuccess = user => {\n    const { history } = this.props;\n    history.push(\"/login\");\n  };\n\n  render() {\n    return (\n      <Section className=\"RegistrationPage\">\n        <h2>Register</h2>\n        <RegistrationForm\n          onRegistrationSuccess={this.handleRegistrationSuccess}\n        />\n      </Section>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Section } from \"../../components/Utils/Utils\";\n\nexport default class NotFoundPage extends Component {\n  render() {\n    return (\n      <Section className=\"NotFoundPage\">\n        <h2>404 - Page not found</h2>\n        <p>Try going back to your previous page.</p>\n      </Section>\n    );\n  }\n}\n","import TokenService from \"./token-service\";\nimport config from \"../config\";\n\nconst ItemApiService = {\n  getItems() {\n    return fetch(`${config.API_ENDPOINT}/items`, {\n      headers: {\n        authorization: `bearer ${TokenService.getAuthToken()}`\n      }\n    }).then(res =>\n      !res.ok ? res.json().then(e => Promise.reject(e)) : res.json()\n    );\n  },\n  getItem(itemId) {\n    return fetch(`${config.API_ENDPOINT}/items/${itemId}`, {\n      headers: {}\n    }).then(res =>\n      !res.ok ? res.json().then(e => Promise.reject(e)) : res.json()\n    );\n  },\n  addItem(item) {\n    return fetch(`${config.API_ENDPOINT}/items`, {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\",\n        authorization: `bearer ${TokenService.getAuthToken()}`\n      },\n      body: JSON.stringify({\n        id: item.id,\n        title: item.title,\n        quantity: item.quantity,\n        date_created: item.date_created,\n        listid: item.listid\n      })\n    }).then(res =>\n      !res.ok ? res.json().then(e => Promise.reject(e)) : res.json()\n    );\n  },\n  deleteItem(item) {\n    return fetch(`${config.API_ENDPOINT}/items/${item.id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"content-type\": \"application/json\",\n        authorization: `bearer ${TokenService.getAuthToken()}`\n      }\n    });\n  }\n};\n\nexport default ItemApiService;\n","import React, { Component } from \"react\";\n\nconst ItemContext = React.createContext({\n  item: {},\n  error: null,\n  setError: () => {},\n  clearError: () => {},\n  setItem: () => {},\n  clearItem: () => {},\n  setItems: () => {},\n  addItem: () => {}\n});\n\nexport default ItemContext;\n\nexport class ItemProvider extends Component {\n  state = {\n    item: {},\n    error: null\n  };\n\n  setError = error => {\n    console.error(error);\n    this.setState({ error });\n  };\n\n  clearError = () => {\n    this.setState({ error: null });\n  };\n\n  setItem = item => {\n    this.setState({ item });\n  };\n\n  clearItem = () => {\n    this.setItems([]);\n  };\n\n  setItems = items => {\n    this.setState({ items });\n  };\n\n  addItem = item => {\n    this.setItems([...this.state.items, item]);\n  };\n\n  render() {\n    const value = {\n      item: this.state.item,\n      error: this.state.error,\n      setError: this.setError,\n      clearError: this.clearError,\n      setItem: this.setItem,\n      clearItem: this.clearItem,\n      setItems: this.setItems,\n      addItem: this.addItem\n    };\n    return (\n      <ItemContext.Provider value={value}>\n        {this.props.children}\n      </ItemContext.Provider>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport ItemApiService from \"../../services/item-api-service\";\nimport { NiceDate, Hyph, Section } from \"../../components/Utils/Utils\";\nimport \"./ItemPage.css\";\nimport ItemContext from \"../../context/ItemContext\";\n\nexport default class ItemPage extends Component {\n  static contextType = ItemContext;\n\n  componentDidMount() {\n    const { itemId } = this.props.match.params;\n    this.context.clearError();\n    ItemApiService.getItem(itemId)\n      .then(this.context.setItem)\n      .catch(this.context.setError);\n  }\n\n  componentWillUnmount() {\n    this.context.clearItem();\n  }\n\n  renderItem() {\n    const { item, quantity } = this.context;\n    return (\n      <>\n        <h2>{item.title}</h2>\n        <p>\n          <Hyph />\n          <NiceDate date={item.date_created} />\n        </p>\n        <ItemItems quantity={quantity} />\n      </>\n    );\n  }\n\n  render() {\n    const { error, item } = this.context;\n    let content;\n    if (error) {\n      content =\n        error.error === `Item doesn't exist` ? (\n          <p className=\"red\">Item not found</p>\n        ) : (\n          <p className=\"red\">There was an error</p>\n        );\n    } else if (!item.id) {\n      content = <div className=\"loading\" />;\n    } else {\n      content = this.renderItem();\n    }\n    return <Section className=\"ItemPage\">{content}</Section>;\n  }\n}\n\nfunction ItemItems({ items = [] }) {\n  return (\n    <ul className=\"ItemPage__item-list\">\n      {items.map(item => (\n        <li key={item.id} className=\"ItemPage__item\">\n          <p className=\"ItemPage__item-text\">{item.text}</p>\n          <p className=\"ItemPage__item-user\">{item.user.full_name}</p>\n        </li>\n      ))}\n    </ul>\n  );\n}\n","import TokenService from \"./token-service\";\nimport config from \"../config\";\n\nconst ListApiService = {\n  getLists() {\n    return fetch(`${config.API_ENDPOINT}/api/lists`, {\n      method: \"GET\",\n      headers: {\n        authorization: `bearer ${TokenService.getAuthToken()}`\n      }\n    }).then(res =>\n      !res.ok ? res.json().then(e => Promise.reject(e)) : res.json()\n    );\n  },\n  getList(listId) {\n    return fetch(`${config.API_ENDPOINT}/api/lists/${listId}`, {\n      headers: {\n        authorization: `bearer ${TokenService.getAuthToken()}`\n      }\n    }).then(res =>\n      !res.ok ? res.json().then(e => Promise.reject(e)) : res.json()\n    );\n  },\n  addList(list) {\n    return fetch(`${config.API_ENDPOINT}/api/lists`, {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\",\n        authorization: `bearer ${TokenService.getAuthToken()}`\n      },\n      body: JSON.stringify({\n        title: list.title,\n        userid: list.userid\n      })\n    }).then(res =>\n      !res.ok ? res.json().then(e => Promise.reject(e)) : res.json()\n    );\n  },\n  deleteList(list) {\n    return fetch(`${config.API_ENDPOINT}/api/lists/${list.id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"content-type\": \"application/json\",\n        authorization: `bearer ${TokenService.getAuthToken()}`\n      }\n    });\n  }\n};\n\nexport default ListApiService;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { NiceDate } from \"../Utils/Utils\";\nimport UserContext from \"../../context/UserContext\";\nimport ListApiService from \"../../services/list-api-service\";\nimport \"./ListItem.css\";\n\nexport default class ListItem extends Component {\n  static contextType = UserContext;\n\n  handleDeleteItem = list => {\n    const newLists = this.context.groceryList.filter(itm => itm !== list);\n    this.context.setGroceryLists(newLists);\n    ListApiService.deleteList(list);\n  };\n\n  render() {\n    const { item } = this.props;\n    return (\n      <div className=\"AllLists\">\n        <Link to={`/list/${item.id}`} className=\"ListById\">\n          <header className=\"ListById__header\">\n            <h2 className=\"ListById__heading\">{item.title}</h2>\n            <ListDate item={item} />\n          </header>\n        </Link>\n        <main>\n          <button\n            className=\"deleteButton\"\n            onClick={e => {\n              e.stopPropagation();\n              this.handleDeleteItem(item);\n            }}\n            type=\"button\"\n          >\n            delete\n          </button>\n        </main>\n      </div>\n    );\n  }\n}\n\nfunction ListDate({ item }) {\n  return (\n    <span className=\"List__date\">\n      <NiceDate date={item.date_created} />\n    </span>\n  );\n}\n","import React, { Component } from \"react\";\nimport ListApiService from \"../../services/list-api-service\";\nimport { Section } from \"../../components/Utils/Utils\";\nimport ListItem from \"../../components/ListItem/ListItem\";\nimport UserContext from \"../../context/UserContext\";\n\nexport default class GroceryLists extends Component {\n  static contextType = UserContext;\n\n  componentDidMount() {\n    this.context.clearError();\n    ListApiService.getLists()\n      .then(data => {\n        return data.filter(\n          list => list.userid === this.context.userLoggedIn.id\n        );\n      })\n      .then(data => this.context.setGroceryLists(data));\n    return ListApiService.getLists().catch(data => {\n      this.context.setError(data);\n    });\n  }\n\n  renderFullList() {\n    return this.context.groceryList.map(item => (\n      <ListItem key={item.id} item={item} />\n    ));\n  }\n\n  render() {\n    const { error } = this.context;\n    return (\n      <Section className=\"ListPage\">\n        {error ? (\n          <p className=\"red\">There was an error, try again</p>\n        ) : (\n          this.renderFullList()\n        )}\n      </Section>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./Tooltip.css\";\n\nclass TooltipClass extends React.Component {\n  static defaultProps = {\n    color: \"#01A800\" // green\n  };\n  render() {\n    return (\n      <span className=\"Tooltip\">\n        <span className=\"Tooltip-content\" style={{ color: this.props.color }}>\n          {this.props.children}\n        </span>\n        <div className=\"Tooltip-message\">{this.props.message}</div>\n      </span>\n    );\n  }\n}\n\nexport default TooltipClass;\n","import React, { Component } from \"react\";\nimport { Section } from \"../../components/Utils/Utils\";\nimport { Link } from \"react-router-dom\";\nimport GroceryLists from \"../GroceryLists/GroceryLists\";\nimport \"./MainPage.css\";\nimport Tooltip from \"../../MISC/composition/Tooltip\";\nimport TokenService from \"../../services/token-service\";\n\nconst Register_Login = (\n  <Tooltip\n    color=\"blue\"\n    message=\"Register and Login are in the top right corner of your screen\"\n  >\n    above\n  </Tooltip>\n);\n\nexport default class MainPage extends Component {\n  renderUserLists() {\n    return (\n      <div className=\"UserGroceryLists\">\n        <GroceryLists className=\"AllGroceryLists\" />\n      </div>\n    );\n  }\n\n  renderStartNewList() {\n    return (\n      <div className=\"CreateNewList\">\n        <Link to={`/addList`} className=\"LinkToNewList\">\n          Start New List\n        </Link>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"Nav\">\n        <div id=\"root\">\n          <Section className=\"MainPage\">\n            <h2>Welcome to the Grocery Helper!</h2>\n            <section className=\"MainParagraph\">\n              <p>\n                This is your new tool to give your shopping list some depth!\n              </p>{\" \"}\n              <section>\n                If you haven't yet, register or login {Register_Login} to begin\n                creating your new and advanced lists!\n              </section>\n              <p>\n                If you're already logged in, click on \"Start New List\" to begin\n                using the Grocery Helper,{\" \"}\n              </p>{\" \"}\n              <p>\n                or select one of the lists you've already made to continue\n                adding to it!\n              </p>\n            </section>\n          </Section>\n          {TokenService.hasAuthToken() ? this.renderStartNewList() : null}\n          <br />\n          {TokenService.hasAuthToken() ? this.renderUserLists() : null}\n        </div>\n      </div>\n    );\n  }\n}\n","const makeNullsArray = len => new Array(len).fill(null, 0, len);\n\nexport default makeNullsArray;\n","import React from \"react\";\n\nexport default function Bubble(props) {\n  let animS = Math.random() * 6.5 + (props.num % 4) + 0.6;\n  let animMs = Math.random() * 900;\n  let tranfX = Math.random() * 300;\n  let tranfY = Math.random() * 960;\n  let transX = Math.random() * 750;\n  let rad = Math.random() * 90;\n\n  return (\n    <g\n      style={{\n        animation: `up ${animS}s ${animMs}ms infinite`\n      }}\n    >\n      <g\n        transform={`translate(${tranfX} ${tranfY})`}\n        style={{\n          transform: `translateX(${transX}px)`\n        }}\n      >\n        <circle cx=\"35\" cy=\"35\" r={`${rad}`} />\n      </g>\n    </g>\n  );\n}\n","import React from \"react\";\n\nexport default function BubblesContainer(props) {\n  return (\n    <div className=\"bubbles-container\">\n      <svg\n        className=\"bubbles\"\n        viewBox=\"0 0 701 1024\"\n        style={{ overflow: \"visible\" }}\n      >\n        <g className=\"bubbles-small\" strokeWidth=\"7\">\n          {props.children}\n        </g>\n      </svg>\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./Bubbles.css\";\nimport makeNullsArray from \"./makeNullsArray\";\nimport Bubble from \"./Bubble\";\nimport BubblesContainer from \"./BubblesContainer\";\n\nexport default function Bubbles(props) {\n  const array = makeNullsArray(props.numberOfBubbles);\n\n  const bubbles = array.map((_, i) => <Bubble key={i} num={i} />);\n\n  return <BubblesContainer>{bubbles}</BubblesContainer>;\n}\n","import React, { Component } from \"react\";\n\nconst ItemListContext = React.createContext({\n  itemList: [],\n  listId: null,\n  error: null,\n  setError: () => {},\n  clearError: () => {},\n  setListId: () => {},\n  setItemList: () => {}\n});\nexport default ItemListContext;\n\nexport class ItemListProvider extends Component {\n  state = {\n    itemList: [],\n    listId: null,\n    error: null\n  };\n\n  setError = error => {\n    console.error(error);\n    this.setState({ error });\n  };\n\n  clearError = () => {\n    this.setState({ error: null });\n  };\n\n  setListId = listId => {\n    this.setState({ listId });\n  };\n\n  setItemList = itemList => {\n    this.setState({ itemList });\n  };\n\n  render() {\n    const value = {\n      itemList: this.state.itemList,\n      listId: this.state.listId,\n      error: this.state.error,\n      setError: this.setError,\n      clearError: this.clearError,\n      setListId: this.setListId,\n      setItemList: this.setItemList\n    };\n    return (\n      <ItemListContext.Provider value={value}>\n        {this.props.children}\n      </ItemListContext.Provider>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { NiceDate } from \"../Utils/Utils\";\nimport \"./ItemsListItem.css\";\nimport ItemListContext from \"../../context/ItemListContext\";\nimport ItemApiService from \"../../services/item-api-service\";\n\nexport default class ItemListItem extends Component {\n  static contextType = ItemListContext;\n\n  handleDeleteItem = item => {\n    const newItems = this.context.itemList.filter(itm => itm !== item);\n    this.context.setItemList(newItems);\n    ItemApiService.deleteItem(item);\n  };\n\n  render() {\n    const { item } = this.props;\n    return (\n      <div className=\"ItemListWholeItem\">\n        <Link to={`/item/${item.id}`} className=\"ItemListItem\">\n          <header className=\"ItemListItem__header\">\n            <h2 className=\"ItemListItem__heading\">{item.title}</h2>\n            <h2 className=\"ItemListItem__quantity\">{item.quantity}</h2>\n            <ItemDate item={item} />\n          </header>\n        </Link>\n        <main>\n          <button\n            className=\"deleteButton\"\n            onClick={e => {\n              e.stopPropagation();\n              this.handleDeleteItem(item);\n            }}\n            type=\"button\"\n          >\n            delete\n          </button>\n        </main>\n      </div>\n    );\n  }\n}\n\nfunction ItemDate({ item }) {\n  return (\n    <span className=\"ItemListItem__date\">\n      <NiceDate date={item.date_created} />\n    </span>\n  );\n}\n","import config from \"../config\";\n\nconst ProduceApiService = {\n  getItems(search) {\n    return fetch(\n      `${\n        config.PRODUCE_API_ENDPOINT\n      }/food/products/search?offset=0&query=${search}&number=1`,\n      {\n        headers: {\n          \"X-RapidAPI-Key\": `${config.X_RAPIDAPI_KEY}`\n        }\n      }\n    ).then(res =>\n      !res.ok ? res.json().then(e => Promise.reject(e)) : res.json()\n    );\n  },\n  getItem(id) {\n    return fetch(`${config.PRODUCE_API_ENDPOINT}/food/products/${id}`, {\n      headers: {\n        \"content-type\": \"application/json\",\n        \"X-RapidAPI-Key\": `${config.X_RAPIDAPI_KEY}`\n      }\n    }).then(res =>\n      !res.ok ? res.json().then(e => Promise.reject(e)) : res.json()\n    );\n  }\n};\n\nexport default ProduceApiService;\n","import React, { Component } from \"react\";\n// import Tooltip from \"../../MISC/composition/Tooltip\";\n\nexport default class ProductItem extends Component {\n  render() {\n    const { item } = this.props;\n    console.log(this.props);\n    // const ingredientsList = (\n    //   <Tooltip color=\"blue\" message={item.ingredientList}>\n    //     Ingredients\n    //   </Tooltip>\n    // );\n    return (\n      <div className=\"AllProducts\">\n        <header className=\"AllProducts__header\">\n          <h2 className=\"AllProducts__heading\">{item.title}</h2>\n          <h2 className=\"AllProducts__price\">{item.price}</h2>\n          <h3 className=\"AllProducts__content\">{item.nutrition}</h3>\n        </header>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ProduceApiService from \"../../services/produce-api-service\";\nimport { Section } from \"../../components/Utils/Utils\";\nimport ProductItem from \"../ProductItem/ProductItem\";\n\nexport default class AddItemForm extends React.Component {\n  state = {\n    readyToSubmit: false,\n    products: null\n  };\n\n  onSubmitForm = e => {\n    e.preventDefault();\n    if (this.state.readyToSubmit === false) {\n      this.handleCheckForm(e);\n    } else {\n      this.handleAddItem(e);\n    }\n  };\n\n  handleAddItem = e => {\n    this.props.onAddItem(\n      e.target.itemToAdd.value,\n      e.target.quantityToAdd.value\n    );\n  };\n\n  handleCheckForm = e => {\n    e.preventDefault();\n    console.log(ProduceApiService.getItems(e.target.itemToAdd.value));\n    return ProduceApiService.getItems(e.target.itemToAdd.value).then(data =>\n      this.setState({ products: data })\n    );\n  };\n\n  renderProducts() {\n    console.log(this.state.products);\n    const itemListById = [];\n    const idList = this.state.products.products.map(item => item.id);\n    console.log(idList);\n    for (let i = 0; i < idList.length; i++) {\n      ProduceApiService.getItem(idList[i]).then(data => {\n        console.log(data);\n        itemListById.push(data);\n      });\n    }\n    console.log(itemListById);\n    return itemListById.map(product => (\n      <ProductItem key={product.id} item={product} />\n    ));\n  }\n\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.onSubmitForm}>\n          <input\n            name=\"itemToAdd\"\n            type=\"text\"\n            placeholder=\"apples\"\n            aria-label=\"Shopping list item\"\n          />\n          <input name=\"quantityToAdd\" type=\"number\" placeholder=\"0\" min=\"0\" />\n          <br />\n          <button\n            onClick={() => this.setState({ readyToSubmit: false })}\n            name=\"submitButton\"\n          >\n            Check For Item\n          </button>\n          <Section className=\"ProductList\">\n            {this.state.products === null ? null : this.renderProducts()}\n          </Section>\n          <button\n            onClick={() => this.setState({ readyToSubmit: true })}\n            name=\"submitButton\"\n          >\n            Add Item\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport ItemListContext from \"../../context/ItemListContext\";\nimport ItemApiService from \"../../services/item-api-service\";\nimport { Section } from \"../../components/Utils/Utils\";\nimport ItemsListItem from \"../../components/ItemsListItem/ItemsListItem\";\nimport AddItemForm from \"../../components/AddItemForm/AddItemForm\";\n\nexport default class ItemListPage extends Component {\n  static contextType = ItemListContext;\n\n  componentDidMount() {\n    this.context.clearError();\n    ItemApiService.getItems()\n      .then(data => {\n        // eslint-disable-next-line eqeqeq\n        return data.filter(item => item.listid == this.props.listId);\n      })\n      .then(data => this.context.setItemList(data))\n      .catch(data => this.context.setError(data));\n  }\n\n  renderItems() {\n    const { itemList = [] } = this.context;\n    return itemList.map(item => <ItemsListItem key={item.id} item={item} />);\n  }\n\n  handleAddItem = (itemName, itemQuantity) => {\n    const newItem = {\n      id: Math.random() * 1000,\n      title: itemName,\n      quantity: itemQuantity,\n      date_created: new Date(),\n      listid: this.props.listId\n    };\n    const newItems = [...this.context.itemList, newItem];\n    this.context.setItemList(newItems);\n    ItemApiService.addItem(newItem);\n  };\n\n  render() {\n    const { error } = this.context;\n    return (\n      <Section className=\"ItemListPage\">\n        <section>\n          <AddItemForm onAddItem={this.handleAddItem} />\n        </section>\n        {error ? (\n          <p className=\"red\">There was an error, try again</p>\n        ) : (\n          this.renderItems()\n        )}\n      </Section>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport ListApiService from \"../../services/list-api-service\";\nimport { NiceDate, Hyph, Section } from \"../../components/Utils/Utils\";\nimport UserContext from \"../../context/UserContext\";\nimport ItemListPage from \"../../components/ItemListPage/ItemListPage\";\n\nexport default class ListPage extends Component {\n  static contextType = UserContext;\n\n  state = {\n    loaded: false\n  };\n\n  componentDidMount() {\n    const { listId } = this.props.match.params;\n    this.context.clearError();\n    ListApiService.getList(listId)\n      .then(data => this.context.setList(data))\n      .catch(this.context.setError);\n    this.setState({ loaded: true });\n  }\n\n  componentWillUnmount() {\n    this.context.clearError();\n  }\n\n  renderList() {\n    const { List } = this.context;\n    const { listId } = this.props.match.params;\n    if (!List) {\n      return <div className=\"loading\" />;\n    } else {\n      return (\n        <div className=\"List_Content\">\n          <h2>{List.title}</h2>\n          <p>\n            <Hyph />\n            <NiceDate date={List.date_created} />\n          </p>\n          <ItemListPage listId={listId} />\n        </div>\n      );\n    }\n  }\n\n  render() {\n    const { error, List } = this.context;\n    let content;\n    if (error) {\n      content =\n        error.error === `List doesn't exist` ? (\n          <p className=\"red\">Item not found</p>\n        ) : (\n          <p className=\"red\">There was an error</p>\n        );\n    } else if (!List) {\n      content = <div className=\"loading\" />;\n    } else {\n      content = this.renderList();\n    }\n    return <Section className=\"ListPage\">{content}</Section>;\n  }\n}\n","import React, { Component } from \"react\";\nimport UserContext from \"../../context/UserContext\";\nimport ListApiService from \"../../services/list-api-service\";\n\nexport default class AddNewList extends Component {\n  static defaultProps = {\n    location: {},\n    history: {\n      push: () => {}\n    }\n  };\n  static contextType = UserContext;\n\n  componentDidMount() {\n    this.context.clearError();\n    ListApiService.getLists()\n      .then(data => {\n        this.context.setGroceryLists(data);\n      })\n      .catch(data => {\n        this.context.setError(data);\n      });\n  }\n\n  onSubmitForm = e => {\n    e.preventDefault();\n    const newList = {\n      title: e.target.newListTitle.value,\n      userid: this.context.userLoggedIn.id\n    };\n    ListApiService.getLists().then(data => {\n      this.context.setGroceryLists([...data, newList]);\n    });\n    ListApiService.addList(newList);\n    ListApiService.getLists()\n      .then(data => {\n        return data.filter(list => list.userid === newList.userid);\n      })\n      .then(data => {\n        return data.find(list => list.title === newList.title);\n      })\n      .then(list => {\n        return list.id;\n      })\n      .then(id => this.props.history.push(`/list/${id}`));\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.onSubmitForm}>\n        <h2>Give your new list a name!</h2>\n        <input\n          name=\"newListTitle\"\n          type=\"text\"\n          placeholder=\"Dinners for the week\"\n          required\n        />\n        <button type=\"submit\">Add Title</button>\n      </form>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Header from \"../Header/Header\";\nimport PrivateRoute from \"../Utils/PrivateRoute\";\nimport PublicOnlyRoute from \"../Utils/PublicOnlyRoute\";\nimport { Route, Switch } from \"react-router-dom\";\nimport LoginPage from \"../../routes/LoginPage/LoginPage\";\nimport RegistrationPage from \"../../routes/RegistrationPage/RegistrationPage\";\nimport PageNotFound from \"../../routes/PageNotFound/PageNotFound\";\nimport ItemPage from \"../../routes/ItemPage/ItemPage\";\nimport MainPage from \"../../routes/MainPage/MainPage\";\nimport Bubbles from \"../../components/BubblesForMain/Bubbles\";\nimport ListPage from \"../../routes/ListPage/ListPage\";\nimport AddNewList from \"../../routes/AddNewList/AddNewList\";\nimport TokenService from \"../../services/token-service\";\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"AppHeader\">\n          <Header hasLoggedIn={TokenService.hasAuthToken()} />\n        </header>\n        <main className=\"AppMain\">\n          <Bubbles numberOfBubbles={60} />\n          <Switch>\n            <Route exact path={\"/\"} component={MainPage} className=\"MainPage\" />\n            <PublicOnlyRoute path={\"/login\"} component={LoginPage} />\n            <PublicOnlyRoute path={\"/register\"} component={RegistrationPage} />\n            <PrivateRoute path={\"/item/:itemId\"} component={ItemPage} />\n            <PrivateRoute path={\"/list/:listId\"} component={ListPage} />\n            <PrivateRoute path={\"/addList\"} component={AddNewList} />\n            <Route component={PageNotFound} />\n          </Switch>\n        </main>\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport App from \"./components/App/App\";\nimport \"./index.css\";\nimport { ItemListProvider } from \"./context/ItemListContext\";\nimport { ItemProvider } from \"./context/ItemContext\";\nimport { UserProvider } from \"./context/UserContext\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <UserProvider>\n      <ItemListProvider>\n        <ItemProvider>\n          <App />\n        </ItemProvider>\n      </ItemListProvider>\n    </UserProvider>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}